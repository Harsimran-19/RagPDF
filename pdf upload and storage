//installing 
pip install fastapi PyPDF2

//define the api endpoint
from fastapi import FastAPI, UploadFile, File
from pydantic import BaseModel

app = FastAPI()

class FileInfo(BaseModel):
    filename: str

@app.post("/upload-pdf", response_model=FileInfo)
async def upload_pdf(file: UploadFile = File(...)):
//processing logic

// Processing of the pdf
import os

async def process_pdf(pdf_file):
    # Read the PDF content
    with open(pdf_file, "rb") as f:
        pdf_reader = PyPDF2.PdfReader(f)

        # Extract text or perform other processing here
        text = ""
        for page in pdf_reader.pages:
            text += page.extract_text()

        # Save the processed text to a file in the data folder
        data_folder = "data"  # Change this to your desired location
        if not os.path.exists(data_folder):
            os.makedirs(data_folder)
        with open(os.path.join(data_folder, f"{pdf_reader.documentInfo.get('/Title')}.txt"), "w") as f:
            f.write(text)

    return {"filename": pdf_reader.documentInfo.get('/Title')}

@app.post("/upload-pdf", response_model=FileInfo)
async def upload_pdf(file: UploadFile = File(...)):
    # Save the uploaded file temporarily
    filename = file.filename
    content = await file.read()
    with open(filename, "wb") as f:
        f.write(content)

    # Process the PDF
    processed_info = await process_pdf(filename)

    # Remove the temporary file
    os.remove(filename)

    return processed_info
